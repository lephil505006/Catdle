<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Battle Cats Catdle</title>

    <meta http-equiv="Content-Security-Policy" content="default-src 'self';
                   script-src 'self' https://cdn.jsdelivr.net;
                   style-src 'self' https://fonts.googleapis.com;
                   img-src 'self' data: https:;
                   font-src 'self' https://fonts.gstatic.com;
                   connect-src 'self';
                   frame-src 'none';
                   object-src 'none';
                   base-uri 'self';
                   form-action 'self' https://forms.gle;">

    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">

    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link rel="stylesheet" href="css/style.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Impact&display=swap');
    </style>
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
</head>

<body>
    <header>
        <div class="logo-container">
            <img src="images/assets/Catdle Logo Full.png" alt="The Battle Cats Catdle" class="game-logo">
        </div>
    </header>

    <div class="info-box" id="info-box">
        <div class="version-section">
            <div class="version-text">Updated to Game Version 14.7.0</div>
        </div>

        <section class="info-section">
            <h3>How to Play</h3>
            <hr class="info-separator">
            <p>Welcome to <span class="highlight">Battle Cats Catdle</span>!</p>
            <p>Guess today's cat unit, each guess will reveal how your guessed unit compares to the answer across
                different attributes.</p>
        </section>

        <section class="info-section">
            <h3>Special Note</h3>
            <hr class="info-separator">
            <p>This game features <span class="highlight">Battle Cats EN units only</span>. Special event units like
                Trash Cat are included, but there are no collab units. Eggs are excluded due to their unique nature
                (subject to change). Note that kamikaze units (Doron, Glass Cat, Boulder Cat) don't have ability icons
                listed.</p>
        </section>

        <section class="info-section">
            <h3>Attributes Showcase</h3>
            <hr class="info-separator">

            <div class="attribute-group">
                <h3>Rarities</h3>
                <p>Different rarities a unit can fall into.</p>
                <div class="category-boxes">
                    <span class="category-box">
                        <img src="images/assets/Normal.webp" alt="Normal">
                        <span>Normal</span>
                    </span>
                    <span class="category-box">
                        <img src="images/assets/Special.webp" alt="Special">
                        <span>Special</span>
                    </span>
                    <span class="category-box">
                        <img src="images/assets/Rare.webp" alt="Rare">
                        <span>Rare</span>
                    </span>
                    <span class="category-box">
                        <img src="images/assets/SuperRare.webp" alt="Super Rare">
                        <span>Super Rare</span>
                    </span>
                    <span class="category-box">
                        <img src="images/assets/UberRare.webp" alt="Uber Rare">
                        <span>Uber Rare</span>
                    </span>
                    <span class="category-box">
                        <img src="images/assets/LegendRare.webp" alt="Legend Rare">
                        <span>Legend Rare</span>
                    </span>
                </div>
            </div>

            <div class="attribute-group">
                <h3>Forms</h3>
                <p>Different forms of a unit (not all units have true/ultra forms and egg units will only show as true
                    forms).</p>
                <div class="form-container">
                    <div class="form-card">
                        <img src="images/assets/nfthundia.webp" alt="Normal Form" class="form-img">
                        <div class="form-label">Normal Form</div>
                    </div>
                    <div class="form-card">
                        <img src="images/assets/efthundia.webp" alt="Evolved Form" class="form-img">
                        <div class="form-label">Evolved Form</div>
                    </div>
                    <div class="form-card">
                        <img src="images/assets/tfthundia.webp" alt="True Form" class="form-img">
                        <div class="form-label">True Form</div>
                    </div>
                    <div class="form-card">
                        <img src="images/assets/ufthundia.webp" alt="Ultra Form" class="form-img">
                        <div class="form-label">Ultra Form</div>
                    </div>
                </div>
            </div>

            <div class="attribute-group">
                <h3>Roles/Class</h3>
                <p>Specifc roles a unit is catergoriezed (this info is based of the Battle Cats wiki).</p>
                <div class="roles-container">
                    <div class="role-example">
                        <img src="images/cats/IslandCat.webp" alt="Island Cat" class="role-img">
                        <div class="role-name">Island Cat</div>
                        <div class="role-class">Melee Tanker</div>
                    </div>

                    <div class="role-example">
                        <img src="images/cats/BadBlasterSaki.webp" alt="Bad Blaster Saki" class="role-img">
                        <div class="role-name">Bad Blaster Saki</div>
                        <div class="role-class">Sniper Super-Backliner</div>
                    </div>

                    <div class="role-example">
                        <img src="images/cats/BoulderCat.webp" alt="Boulder Cat" class="role-img">
                        <div class="role-name">Boulder Cat</div>
                        <div class="role-class">Meatshield</div>
                    </div>

                    <div class="role-example">
                        <img src="images/cats/AwakenedBahamutCat.webp" alt="Bahamut Cat" class="role-img">
                        <div class="role-name">Bahamut Cat</div>
                        <div class="role-class">Rusher Nuker</div>
                    </div>

                    <div class="role-example">
                        <img src="images/cats/TrueKyosakaNanaho.webp" alt="True Kyosaka Nanaho" class="role-img">
                        <div class="role-name">True Kyosaka Nanaho</div>
                        <div class="role-class">Critter Sniper</div>
                    </div>
                </div>
            </div>

            <div class="attribute-group">
                <h3>Traits</h3>
                <div class="traits-container">
                    <div class="trait-item">
                        <img src="images/traits/aku.webp" alt="Aku" class="trait-icon">
                        <div class="trait-label">Aku</div>
                    </div>

                    <div class="trait-item">
                        <img src="images/traits/alien.webp" alt="Alien" class="trait-icon">
                        <div class="trait-label">Alien</div>
                    </div>

                    <div class="trait-item">
                        <img src="images/traits/angel.webp" alt="Angel" class="trait-icon">
                        <div class="trait-label">Angel</div>
                    </div>

                    <div class="trait-item">
                        <img src="images/traits/black.webp" alt="Black" class="trait-icon">
                        <div class="trait-label">Black</div>
                    </div>

                    <div class="trait-item">
                        <img src="images/traits/floating.webp" alt="Floating" class="trait-icon">
                        <div class="trait-label">Floating</div>
                    </div>

                    <div class="trait-item">
                        <img src="images/traits/metal.webp" alt="Metal" class="trait-icon">
                        <div class="trait-label">Metal</div>
                    </div>

                    <div class="trait-item">
                        <img src="images/traits/none.webp" alt="None" class="trait-icon">
                        <div class="trait-label">None (Traitless)</div>
                    </div>

                    <div class="trait-item">
                        <img src="images/traits/red.webp" alt="Red" class="trait-icon">
                        <div class="trait-label">Red</div>
                    </div>

                    <div class="trait-item">
                        <img src="images/traits/relic.webp" alt="Relic" class="trait-icon">
                        <div class="trait-label">Relic</div>
                    </div>

                    <div class="trait-item">
                        <img src="images/traits/zombie.webp" alt="Zombie" class="trait-icon">
                        <div class="trait-label">Zombie</div>
                    </div>

                    <div class="trait-item">
                        <img src="images/traits/x.png" alt="No Traits" class="trait-icon">
                        <div class="trait-label">No Traits</div>
                    </div>
                </div>
            </div>

            <div class="attribute-group">
                <h3>Attack Types</h3>
                <p>Ways a unit can hit/target an enemy.</p>
                <div class="attack-types-container">
                    <div class="attack-type-item">
                        <img src="images/attackType/singleattack.webp" alt="Single Attack" class="attack-type-icon">
                        <div class="attack-type-label">Single Attack</div>
                    </div>

                    <div class="attack-type-item">
                        <img src="images/attackType/areaattack.webp" alt="Area Attack" class="attack-type-icon">
                        <div class="attack-type-label">Area Attack</div>
                    </div>

                    <div class="attack-type-item">
                        <img src="images/attackType/multihit.webp" alt="Multi Hit" class="attack-type-icon">
                        <div class="attack-type-label">Multi Hit</div>
                    </div>

                    <div class="attack-type-item">
                        <img src="images/attackType/omnistrike.webp" alt="Omni Strike" class="attack-type-icon">
                        <div class="attack-type-label">Omni Strike</div>
                    </div>

                    <div class="attack-type-item">
                        <img src="images/attackType/longdistance.webp" alt="Long Distance" class="attack-type-icon">
                        <div class="attack-type-label">Long Range</div>
                    </div>
                </div>
            </div>

            <div class="attribute-group">
                <h3>Abilities</h3>
                <p>All other abilities, attack types are NOT considered an ability for this.</p>
                <div class="abilities-container">
                    <div class="ability-item">
                        <img src="images/abilities/attacksonly.webp" alt="Attacks Only" class="ability-icon">
                        <div class="ability-label">Attack Only</div>
                    </div>

                    <div class="ability-item">
                        <img src="images/abilities/basedestroyer.webp" alt="Base Destroyer" class="ability-icon">
                        <div class="ability-label">Base Destroyer</div>
                    </div>

                    <div class="ability-item">
                        <img src="images/abilities/metalkiller.webp" alt="Metal Killer" class="ability-icon">
                        <div class="ability-label">Metal Killer</div>
                    </div>

                    <div class="ability-item">
                        <img src="images/abilities/metal.webp" alt="Metal" class="ability-icon">
                        <div class="ability-label">Metal</div>
                    </div>

                    <div class="ability-item">
                        <img src="images/abilities/savageblow.webp" alt="Savage Blow" class="ability-icon">
                        <div class="ability-label">Savage Blow</div>
                    </div>

                    <div class="ability-item">
                        <img src="images/abilities/countersurge.webp" alt="Counter Surge" class="ability-icon">
                        <div class="ability-label">Counter Surge</div>
                    </div>

                    <div class="ability-item">
                        <img src="images/abilities/x.png" alt="No Abilities" class="ability-icon">
                        <div class="ability-label">No Abilities</div>
                    </div>
                </div>
            </div>

            <div class="attribute-group">
                <h3>Cost</h3>
                <p>How much a unit costs, can change depending on the unit's form.</p>
                <div class="cost-examples-container">
                    <div class="cost-example">
                        <div class="cat-detail green-box">
                            <div class="cost-value">4500¢</div>
                        </div>
                        <div class="example-label">Exact Match</div>
                    </div>

                    <div class="cost-example">
                        <div class="cat-detail double-down">
                            <p>6500¢</p>
                        </div>
                        <div class="example-label">Way above cost</div>
                    </div>
                    <div class="cost-example">
                        <div class="single-up">
                            <p>3500¢</p>
                        </div>
                        <div class="example-label">Slightly below cost</div>
                    </div>
                    <div class="cost-example">
                        <div class="double-up">
                            <p>75¢</p>
                        </div>
                        <div class="example-label">Way below cost </div>
                    </div>
                </div>
            </div>

            <div class="attribute-group">
                <h3>Version</h3>
                <p>The version the unit was released on, can change depending on unit's form.</p>
                <p>*Some units may have been added to the game but not obtainable until further late. For clarity, their
                    verison will be when they were originally added only.</p>
                <div class="version-examples-container">
                    <div class="version-example">
                        <div class="cat-detail green-box">
                            <p>V12.5</p>
                        </div>
                        <div class="example-label">Exact Match</div>
                    </div>

                    <div class="version-example">
                        <div class="single-down">
                            <div class="version-value">V13.0</div>
                        </div>
                        <div class="example-label">Slightly above version</div>
                    </div>

                    <div class="version-example">
                        <div class="single-down">
                            <div class="version-container">
                                <p>V13.0</p>
                            </div>
                        </div>
                        <div class="example-label">Older Version</div>
                    </div>

                    <div class="version-example">
                        <div class="double-up">
                            <div class="version-container">
                                <div class="version-value">V15.0</div>
                            </div>
                        </div>
                        <div class="example-label">Much Newer</div>
                    </div>
                </div>
        </section>

        <section class="info-section">
            <h3>Hint</h3>
            <hr class="info-separator">
            <p>After several unsuccessful attempts, you'll receive a hint revealing the unit's <span
                    class="highlight">source origin</span> (Gacha, specific banners, certain stages, etc.).</p>
        </section>
    </div>

    <div class="changelog-box" id="changelog-box">
        <div class="version-section">
            <div class="version-text">Game Changelog</div>
        </div>

        <section class="changelog-section">
            <h3>Version 1.0</h3>
            <hr class="info-separator">
            <ul>
                <li>Initial release of Catdle</li>
                <li>Daily Battle Cats guessing game</li>
                <li>300+ cat units included</li>
                <li>All attributes and comparison system</li>
            </ul>
        </section>
    </div>

    <div class="about-box" id="about-box">
        <div class="version-section">
            <div class="version-text">About Catdle</div>
        </div>

        <section class="about-section">
            <h3>About the Catdle</h3>
            <hr class="info-separator">
            <p>Catdle is a wordle like game similar to how other games like League, Smash, and other game/show guessing
                games!</p>
            <p>All info, images, and references were based off from the game itself or the Miraheze wiki.</p>
            <p>Make sure to read the game instructions if it's your first time!</p>
        </section>

        <section class="about-section">
            <h3>Feedback</h3>
            <hr class="info-separator">
            <p>Bugs or feedback you want to send? Use this
                <a href="https://forms.gle/FRwoQfxKunwbNZgw5" target="_blank" rel="noopener noreferrer"
                    class="feedback-link">Google Form!</a>
            </p>
        </section>
    </div>

    <div class="header-bar">
        <button id="about-button" class="header-button" aria-label="About & Feedback">
            <img src="images/assets/AboutIcon.webp" alt="About" class="header-icon">
        </button>
        <button id="changelog-button" class="header-button" aria-label="Game changelog">
            <img src="images/assets/ChangelogIcon.webp" alt="Changelog" class="header-icon">
        </button>
        <button id="info-button" class="header-button" aria-label="Game instructions">
            <img src="images/assets/infoIcon.webp" alt="Info" class="header-icon">
        </button>
    </div>

    <main id="game-container">
        <p class="game-instruction">Guess todays Battle Cat's unit!</p>
        <div class="hint-area">
            <div class="hint-box">
                <div class="hint-icon">
                    <img src="images/assets/HintIcon.webp" alt="Hint" class="hint-icon-img">
                </div>
                <div class="hint-text">Hint appears after 5 tries</div>
            </div>
            <div class="hint-reveal-box">
                <div class="hint-reveal-text" id="hint-display"></div>
            </div>
        </div>

        <div class="search-container">
            <div class="search-bar-outer">
                <input type="text" id="search-bar" placeholder="Enter cat name..." aria-label="Cat name search">
                <button type="button" id="search-button" aria-label="Submit guess">Play</button>
            </div>
        </div>
        <img src="images/assets/MenuCat.png" id="menu-cat" alt="Menu Cat" class="decorative-cat">
    </main>

    <div id="results-container" role="listbox" aria-label="Search results"></div>

    <div id="cat-details-container" aria-live="polite">
        <nav id="headers" aria-label="Categories">
            <div class="header-item" role="columnheader">Cat</div>
            <div class="header-item" role="columnheader">Rarity</div>
            <div class="header-item" role="columnheader">Form</div>
            <div class="header-item" role="columnheader">Role</div>
            <div class="header-item" role="columnheader">Traits</div>
            <div class="header-item" role="columnheader">Attack Type</div>
            <div class="header-item" role="columnheader">Abilities</div>
            <div class="header-item" role="columnheader">Cost</div>
            <div class="header-item" role="columnheader">Version</div>
        </nav>
    </div>

    <div class="yesterdays-answer">
        <div class="yesterday-text">Yesterday's Answer: <span id="yesterday-cat-name"></span></div>
        <img id="yesterday-cat-img" src="" alt="Yesterday's Cat" class="yesterday-img">
    </div>

    <div id="victory-screen" class="victory-screen">
        <div class="victory-content">
            <div class="victory-header">
                <h2>Victory!</h2>
            </div>

            <div class="victory-cat-row">
                <div class="victory-cat-image">
                    <img id="victory-cat-img" src="" alt="Victory Cat">
                </div>
                <div class="victory-cat-text">
                    <div class="cat-unit-label">Cat Unit of the Day</div>
                    <h3 id="victory-cat-name"></h3>
                </div>
            </div>

            <div class="victory-guesses-row">
                <div class="guesses-label">Guesses:</div>
                <div class="guesses-count" id="victory-guess-count"></div>
            </div>

            <div class="victory-timer-row">
                <div class="timer-label">Next Game:</div>
                <div class="timer-value" id="victory-timer">Calculating...</div>
            </div>

            <div class="wordlecats">
                <div class="wordlecats-text">Make sure to also check out!</div>
                <a href="https://wordlecats.com" target="_blank" class="wordlecats-link">
                    <img src="images/assets/WordleCats.png" alt="Wordle Cats" class="wordlecats-logo">
                </a>
            </div>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>

</html>